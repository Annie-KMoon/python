<!-- <div class="container my-5">
    <h1 class="text-center">{{title}}</h1>
    {{info|safe}}
</div> -->

<div class="container my-5">
  <h1 class="text-center mb-4">{{ title }}</h1>

  <table class="table table-striped table-hover text-center" id="animalTable">
    <thead>
      <tr>
        <th>ë™ë¬¼ ê³ ìœ ë²ˆí˜¸</th>
        <th>ì´ë¦„</th>
        <th>ì¢…</th>
        <th>ì„±ë³„</th>
        <th>ì¶œìƒë…„ë„</th>
        <th>ì²´ì¤‘</th>
        <th>ì…ì–‘ìƒíƒœ</th>
        <th>ì„ì‹œë³´í˜¸ìƒíƒœ</th>
        <th>ì…ì†Œë‚ ì§œ</th>
      </tr>
    </thead>
    <tbody>
      {% for a in animals %}
      <tr data-url="{{ a['ì‚¬ì§„url'] }}">
        <td>{{ a['ë™ë¬¼ ê³ ìœ ë²ˆí˜¸'] }}</td>
        <td>{{ a['ì´ë¦„'] }}</td>
        <td>{{ a['ì¢…'] }}</td>
        <td>{{ a['ì„±ë³„'] }}</td>
        <td>{{ a['ì¶œìƒë…„ë„'] }}</td>
        <td>{{ a['ì²´ì¤‘'] }}</td>
        <td>{{ a['ì…ì–‘ìƒíƒœ'] }}</td>
        <td>{{ a['ì„ì‹œë³´í˜¸ìƒíƒœ'] }}</td>
        <td>{{ a['ì…ì†Œë‚ ì§œ'] }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <!-- âœ… í˜ì´ì§€ë„¤ì´ì…˜ ë²„íŠ¼ -->
  <div class="text-center my-4">
    {% if page > 1 %}
    <a href="?page={{ page - 1 }}" class="btn btn-secondary btn-sm">ì´ì „</a>
    {% else %}
    <button class="btn btn-secondary btn-sm" disabled>ì´ì „</button>
    {% endif %}

    <span class="mx-2"> {{ page }} / {{ total_pages }}</span>

    {% if page < total_pages %}
    <a href="?page={{ page + 1 }}" class="btn btn-secondary btn-sm">ë‹¤ìŒ</a>
    {% else %}
    <button class="btn btn-secondary btn-sm" disabled>ë‹¤ìŒ</button>
    {% endif %}
  </div>
</div>

<!-- ğŸ¶ ì´ë¯¸ì§€ ëª¨ë‹¬ -->
<div class="modal fade" id="photoModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-body text-center">
        <img id="animalImg" src="" alt="ë™ë¬¼ ì‚¬ì§„" class="img-fluid rounded">
      </div>
    </div>
  </div>
</div>

<style>
  /* ì»¤ì„œ í¬ì¸í„° + ê°•ì¡° íš¨ê³¼ */
  #animalTable tbody tr {
    cursor: pointer;
  }
  #animalTable tbody tr:hover {
    background-color: #f0f8ff;
  }
</style>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<script>
  $(function () {
    // í–‰ í´ë¦­ ì‹œ ëª¨ë‹¬ í‘œì‹œ
    $("#animalTable tbody").on("click", "tr", function () {
      const imgUrl = $(this).data("url");
      if (imgUrl) {
        $("#animalImg").attr("src", imgUrl);
        const modal = new bootstrap.Modal(document.getElementById("photoModal"));
        modal.show();
      } else {
        alert("ì‚¬ì§„ì´ ì—†ìŠµë‹ˆë‹¤ ğŸ˜¢");
      }
    });
  });
</script>